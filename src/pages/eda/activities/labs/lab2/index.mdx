---
title: Event-Driven Architecture Lab 2 - Working with Spring for Apache Kafka
description: Lab activities associated with using the spring-kafka project with an IBM Event Streams on Cloud instance, to be used with event-driven architecture enablement.
---

## Problem

Produce and consume events to and from an IBM Event Streams on Cloud instance, using Spring for Apache Kafka console samples on your local workstation.

### Using the Spring for Apache Kafka sample

To complete this lab scenario, you will need to perform the following steps:

- Make use of the Spring for Apache Kafka project's samples located at https://github.com/spring-projects/spring-kafka/tree/master/samples
- Provide Kafka connection information for your IBM Event Streams on Cloud instance in `/samples/sample-0X/src/main/resources/application.yml`
- Build the application's JAR file
- Run the application's JAR file
- Communicate with the running application via REST APIs and curl.

## Verification

The verification of each sample scenario is documented in the samples themselves:

- [Sample 1](https://github.com/spring-projects/spring-kafka/tree/master/samples/sample-01) focuses on simple producers and consumers as the foundation for the Spring for Apache Kafka project
- [Sample 2](https://github.com/spring-projects/spring-kafka/tree/master/samples/sample-02) focuses on multi-method consumers to allow for type-binding to topics and auto-serialization of event data
- [Sample 3](https://github.com/spring-projects/spring-kafka/tree/master/samples/sample-03) focuses on the use of transactions in Kafka-based messaging

## Extra credit

- If you are using a shared cluster, that means you will also be using the same topics as all your fellow bootcamp attendees. Create new topics and update the sample code to include your initials as a prefix to the topic name.

- Certain Kafka SDKs and language bindings have the ability to automatically create topics if they do not already exist. To create a topic on startup in Spring for Apache Kafka, you must add a bean of type `NewTopic`. If the topic already exists, the bean is ignored. Add the necessary beans to create the topics for all the samples upon startup.

# References

- https://docs.spring.io/spring-kafka/reference/html/
- https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html
- https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-kafka
